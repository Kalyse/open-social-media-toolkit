<?phpclass statistics {		var $db;	function statistics(&$db=NULL) {		if (is_null($db)) { 			require_once('db.class.php');			$this->db=new cloudDatabase();		} else			$this->db=$db;	}	function logHourlyStats() {		require_once(PATH_CORE.'/classes/log.class.php');		$logObj=new log($this->db);		// record recentSessions		$q=$this->db->query("SELECT count(id) as cnt FROM fbSessions WHERE fb_sig_time>=date_sub(NOW(), INTERVAL 10 MINUTE);");		$data=$this->db->readQ($q);		$cnt=$data->cnt;		$logItem=$logObj->serialize(0,0,'sessionsRecent',$cnt);		$logObj->add($logItem);		// record sessions in last hour		$q=$this->db->query("SELECT count(id) as cnt FROM fbSessions WHERE fb_sig_time>=date_sub(NOW(), INTERVAL 60 MINUTE);");		$data=$this->db->readQ($q);		$cnt=$data->cnt;		$logItem=$logObj->serialize(0,0,'sessionsHour',$cnt);		$logObj->add($logItem);	}}	?>